## Thread类

#### 一、Thread类的作用

Thread类用于创建并管理线程，将原生的线程操作封装起来，方便使用。作用具体如下：

* 线程创建：用户可以通过Thread类创建新线程，并指定一个回调函数作为线程函数，当线程创建后会自动执行该回调函数。
* 线程同步：Thread类提供了线程同步接口，如join函数等待该线程完成执行，以确保主线程在子线程执行完成之前不会继续执行。

#### 二、Thread类的组成成分

##### Thread类的成员变量按功能和作用来看分为两类：

* 保存线程相关信息的变量：如线程名字name\_，线程tid\_，线程的回调函数func\_等。
* 与线程生命周期相关的标识：如是否设置为join的标识joined\_，是否启动线程函数运行的标识started_。

##### Thread类的成员函数按功能和作用分为两类：

* 获取线程相关信息的函数：如获取线程tid的函数tid()、获取线程名称的函数name()等。

* 控制线程运行与同步的函数：start函数用来创建```std::thread```对象并运行线程函数（也就是传给它的回调函数），join函数用来设置先等待该线程完成执行.

  >这里的线程函数本质上是EventLoopThread::threadFunc成员函数

#### 三、Thread类的设计技巧

##### 1、线程类如何设置线程真正的tid

这里所谓的“线程真正的tid”指的是使用top命令查看的线程id，而不是pthread_tid

在创建```std::thread```对象并运行线程函数时，让线程函数先运行CurrentThread类中封装好的函数，然后将获取到的线程tid保存到成员变量中。CurrentThread是如何做到获取当前线程的线程id可以查看该类介绍。
